import matplotlib.pyplot as plt
plt.rcParams['font.family'] = ['Arial Unicode MS', 'STHeiti', 'STSong', 'SimSun', 'Microsoft YaHei', 'Heiti TC', 'STKaiti', 'LiSu', 'Apple LiGothic', 'Hiragino Sans GB', 'Noto Sans CJK SC', 'Source Han Sans SC']
fig = plt.figure(figsize=(12, 4))

# 空闲和忙碌状态的 cpu 利用率
y1 = [0.0012510425354461674,0.0012510425354461674,0.0012510425354461674,0.0004171881518565401,0.0004171881518565401,0.0004171881518565401,0.00041684035014588616,0.00041684035014588616,0.00041684035014588616,0.0004170141784820558,0.0004170141784820558,0.0004170141784820558,0.03131524008350728,0.03131524008350728,0.03131524008350728,0.37673246535069294,0.37673246535069294,0.37673246535069294,0.34616994558392633,0.34616994558392633,0.34616994558392633,0.21171548117154815,0.21171548117154815,0.21171548117154815,0.1112040133779264,0.1112040133779264,0.1112040133779264,0.21389702804520716,0.21389702804520716,0.21389702804520716,0.2082111436950147,0.2082111436950147,0.2082111436950147,0.17701342281879195,0.17701342281879195,0.17701342281879195,0.03964941569282132,0.03964941569282132,0.03964941569282132,0.14148580968280466,0.14148580968280466,0.14148580968280466,0.20735785953177255,0.20735785953177255,0.20735785953177255,0.42725752508361203,0.42725752508361203,0.42725752508361203,0.4175041876046901,0.4175041876046901,0.4175041876046901,0.14458838278311748,0.14458838278311748,0.14458838278311748,0.12808706571787354,0.12808706571787354,0.12808706571787354,0.10447137484329294,0.10447137484329294,0.10447137484329294,0.10851419031719534,0.10851419031719534,0.10851419031719534,0.1476230191826522,0.1476230191826522,0.1476230191826522,0.10222036028487647,0.10222036028487647,0.10222036028487647,0.11343658434491422,0.11343658434491422,0.11343658434491422,0.22394307241523648,0.22394307241523648,0.22394307241523648,0.0989148580968281,0.0989148580968281,0.0989148580968281,0.0008336807002917723,0.0008336807002917723,0.0008336807002917723]
x = range(len(y1))

plt.plot(x, y1, color='red',  linewidth=2, label='service')
plt.grid(True, linestyle='--', linewidth=0.5)

# 设置图例
plt.legend()

# 设置 x 轴标签
plt.xlabel("时间(s)")
# 设置 y 轴标签
plt.ylabel("CPU利用率(%)")

# 显示图表
# plt.show()
fig.savefig("./free_cpu_utilization.svg", format="svg")